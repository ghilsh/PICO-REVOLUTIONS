[gd_scene load_steps=12 format=2]

[ext_resource path="res://Enviroment/WalkableTiles.gd" type="Script" id=1]
[ext_resource path="res://Enviroment/Entrance.gd" type="Script" id=2]
[ext_resource path="res://Enviroment/Conveyor.gd" type="Script" id=3]
[ext_resource path="res://Materials/Conveyor.tres" type="TileSet" id=4]
[ext_resource path="res://Entities/Player/Player.tscn" type="PackedScene" id=5]
[ext_resource path="res://Enviroment/Exit.gd" type="Script" id=6]
[ext_resource path="res://Enviroment/Key.tscn" type="PackedScene" id=7]
[ext_resource path="res://Screens/Rooms/Room.gd" type="Script" id=8]
[ext_resource path="res://Materials/MainTiles.tres" type="TileSet" id=9]

[sub_resource type="Curve2D" id=4]
_data = {
"points": PoolVector2Array( 0, 0, 0, 0, -384, 448, 0, 0, 0, 0, 256, 448, 0, 0, 0, 0, -384, 448 )
}

[sub_resource type="RectangleShape2D" id=3]
extents = Vector2( 21.875, 61 )

[node name="Room" type="Node2D"]
script = ExtResource( 8 )

[node name="Floor" type="Area2D" parent="."]
collision_layer = 4
script = ExtResource( 1 )

[node name="TileMap" type="TileMap" parent="Floor"]
z_index = -2
tile_set = ExtResource( 9 )
collision_use_parent = true
format = 1
tile_data = PoolIntArray( 327669, 0, 0, 327670, 6, 0, 262151, 536870918, 0, 262152, 536870912, 0, 262155, 0, 0, 262156, 1, 0, 262157, 1, 0, 262158, 1, 0, 262159, 1, 0, 393205, 2, 0, 393206, 6, 0, 327687, 536870918, 0, 327688, 536870914, 0, 327691, 2, 0, 327692, 4, 0, 327693, 4, 0, 327694, 4, 0, 327695, 4, 0, 458741, 5, 0, 393224, 5, 0, 393227, 5, 0, 524277, 5, 0, 458760, 5, 0, 458763, 5, 0, 589813, 0, 0, 589814, 6, 0, 524295, 536870918, 0, 524296, 536870912, 0, 524299, 0, 0, 524300, 1, 0, 524301, 1, 0, 524302, 1, 0, 524303, 1, 0, 655349, 2, 0, 655350, 6, 0, 589831, 536870918, 0, 589832, 536870914, 0, 589835, 2, 0, 589836, 4, 0, 589837, 4, 0, 589838, 4, 0, 589839, 4, 0, 720885, 536870917, 0, 655368, 536870917, 0, 655371, 536870917, 0, 786421, 536870917, 0, 720904, 536870917, 0, 720907, 536870917, 0, 851957, 536870917, 0, 786440, 536870917, 0, 786443, 536870917, 0, 917493, 536870917, 0, 851976, 536870917, 0, 851979, 536870917, 0, 983029, 536870917, 0, 917512, 536870917, 0, 917515, 536870917, 0, 1048565, 536870917, 0, 983048, 536870917, 0, 983051, 536870917, 0 )

[node name="ConveyorRight" type="Area2D" parent="."]
z_index = -4
script = ExtResource( 3 )

[node name="TileMap" type="TileMap" parent="ConveyorRight"]
tile_set = ExtResource( 4 )
collision_use_parent = true
format = 1
tile_data = PoolIntArray( 589814, 0, 0, 589815, 0, 0, 589816, 0, 0, 589817, 0, 0, 589818, 0, 0, 589819, 0, 0, 589820, 0, 0, 589821, 0, 0, 589822, 0, 0, 589823, 0, 0, 524288, 0, 0, 524289, 0, 0, 524290, 0, 0, 524291, 0, 0, 524292, 0, 0, 524293, 0, 0, 524294, 0, 0, 524295, 0, 0, 655350, 0, 0, 655351, 0, 0, 655352, 0, 0, 655353, 0, 0, 655354, 0, 0, 655355, 0, 0, 655356, 0, 0, 655357, 0, 0, 655358, 0, 0, 655359, 0, 0, 589824, 0, 0, 589825, 0, 0, 589826, 0, 0, 589827, 0, 0, 589828, 0, 0, 589829, 0, 0, 589830, 0, 0, 589831, 0, 0 )

[node name="ConveyorLeft" type="Area2D" parent="."]
z_index = -4
script = ExtResource( 3 )
direction = Vector2( -1, 0 )

[node name="TileMap" type="TileMap" parent="ConveyorLeft"]
tile_set = ExtResource( 4 )
collision_use_parent = true
format = 1
tile_data = PoolIntArray( 327670, 536870912, 0, 327671, 536870912, 0, 327672, 536870912, 0, 327673, 536870912, 0, 327674, 536870912, 0, 327675, 536870912, 0, 327676, 536870912, 0, 327677, 536870912, 0, 327678, 536870912, 0, 327679, 536870912, 0, 262144, 536870912, 0, 262145, 536870912, 0, 262146, 536870912, 0, 262147, 536870912, 0, 262148, 536870912, 0, 262149, 536870912, 0, 262150, 536870912, 0, 262151, 536870912, 0, 393206, 536870912, 0, 393207, 536870912, 0, 393208, 536870912, 0, 393209, 536870912, 0, 393210, 536870912, 0, 393211, 536870912, 0, 393212, 536870912, 0, 393213, 536870912, 0, 393214, 536870912, 0, 393215, 536870912, 0, 327680, 536870912, 0, 327681, 536870912, 0, 327682, 536870912, 0, 327683, 536870912, 0, 327684, 536870912, 0, 327685, 536870912, 0, 327686, 536870912, 0, 327687, 536870912, 0 )

[node name="YSort" type="YSort" parent="."]

[node name="Player" parent="YSort" instance=ExtResource( 5 )]
position = Vector2( 863, 311 )

[node name="Camera2D" type="Camera2D" parent="YSort/Player"]
visible = false
current = true
limit_right = 1024
drag_margin_h_enabled = true
drag_margin_v_enabled = true
smoothing_enabled = true
drag_margin_left = 0.05
drag_margin_top = 0.05
drag_margin_right = 0.05
drag_margin_bottom = 0.05
editor_draw_limits = true
editor_draw_drag_margin = true

[node name="Path2D" type="Path2D" parent="YSort"]
curve = SubResource( 4 )

[node name="PathFollow2D" type="PathFollow2D" parent="YSort/Path2D"]
position = Vector2( -384, 448 )
rotate = false

[node name="Key" parent="YSort/Path2D/PathFollow2D" instance=ExtResource( 7 )]

[node name="Entrances" type="Node" parent="."]

[node name="1" type="Position2D" parent="Entrances"]
position = Vector2( 991, 322 )
script = ExtResource( 2 )

[node name="Exits" type="Node" parent="."]

[node name="1" type="Area2D" parent="Exits"]
position = Vector2( 1050, 313 )
script = ExtResource( 6 )
__meta__ = {
"_edit_group_": true
}
new_room = "res://Screens/Rooms/RoomKey2.tscn"
direction = Vector2( 1, 0 )
entrance_tag = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exits/1"]
position = Vector2( -4, 4 )
shape = SubResource( 3 )

[node name="2" type="Area2D" parent="Exits"]
position = Vector2( 1050, 569 )
script = ExtResource( 6 )
__meta__ = {
"_edit_group_": true
}
new_room = "res://Screens/Rooms/RoomKey2.tscn"
direction = Vector2( 1, 0 )
entrance_tag = 4

[node name="CollisionShape2D" type="CollisionShape2D" parent="Exits/2"]
position = Vector2( -4, 4 )
shape = SubResource( 3 )
